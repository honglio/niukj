- if (comment && comment.user)
  - var name = comment.user.profile.name ? comment.user.profile.name : comment.user.email
  - function timeSince(date) {
  -   var seconds = Math.floor((new Date() - date) / 1000);
  -   var interval = Math.floor(seconds / 31536000);
  -   if (interval > 1) {
  -     return interval + " 年";
  -   }
  -   interval = Math.floor(seconds / 2592000);
  -   if (interval > 1) {
  -     return interval + " 月";
  -   }
  -   interval = Math.floor(seconds / 86400);
  -   if (interval > 1) {
  -     return interval + " 日";
  -   }
  -   interval = Math.floor(seconds / 3600);
  -   if (interval > 1) {
  -     return interval + " 小时";
  -   }
  -   interval = Math.floor(seconds / 60);
  -   if (interval > 1) {
  -     return interval + " 分钟";
  -   }
  -   return Math.floor(seconds) + " 秒";
  - }
  .comment
    .row
      .col-sm-12
        .comment-thumb.pull-left
          a(href='#')
            img.img-circle(src='#{comment.user.gravatar()}', height='40')
        .comment-content(style="margin:0 50px;")
          .comment-author
            a(href='/account/'+comment.user._id)= name
            | &nbsp;
            span.time= timeSince(comment.createdAt)
            |  以前
          blockquote.comment-text
            = comment.body

        p.text-muted
          form.form-inline(role='form', method='POST', action='/articles/' + article._id + '/comments/' + comment._id, onsubmit='return confirm("你确定吗?")')
            input(type='hidden', name='_csrf', value=_csrf)
            span.text-muted= formatDate(comment.createdAt)
            &#160;&#160;&#160;
            input(type='hidden', name='_method', value='DELETE')
            button.btn.btn-danger.error(type='submit') Delete

  br