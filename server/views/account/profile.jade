extends ../layout

block content
  .container
    h3.text-center= title
    hr
    section.row
      .col-sm-10.col-md-10
        form.form-horizontal(action='/account/profile', method='POST')
          input(type='hidden', name='_csrf', value=_csrf)
          .form-group
            label.col-sm-2.control-label(for='email') Email
            .col-sm-4
              input.form-control(type='email', name='email', id='email', value='#{user.email}')
          .form-group
            label.col-sm-2.control-label(for='name') 昵称
            .col-sm-4
              input.form-control(type='text', name='name', id='name', value='#{user.profile.name}')
          .form-group
            label.col-sm-2.control-label(for='gender') 性别
            .col-sm-4
              label.radio
                input(type='radio', checked=user.profile.gender=='male', name='gender', value='male', data-toggle='radio')
                span 男
              label.radio
                input(type='radio', checked=user.profile.gender=='female', name='gender', value='female', data-toggle='radio')
                span 女
          .form-group
            label.col-sm-2.control-label(for='location') 居住地
            .col-sm-4
              input.form-control(type='text', name='location', id='location', value='#{user.profile.location}')
          .form-group
            label.col-sm-2.control-label(for='website') 个人网站
            .col-sm-4
              input.form-control(type='text', name='website', id='website', value='#{user.profile.website}')
          .form-group
            label.col-sm-2.control-label(for='gravatar') 个人头像
            .col-sm-4
              img(src="#{user.gravatar()}", class='profile', width='100', height='100')
          .form-group
            .col-sm-offset-2.col-sm-4
              button.btn.btn.btn-primary(type='submit')
                i.fa.fa-magnet
                |  上传更新


      .col-sm-2.col-md-2
        ul.profile-info-sections
          li
            .profile-stat
              h3 #{user.contacts.followers.length}
              span
                a(href='/account/' + user.id + '/followers') 粉丝
          li
            .profile-stat
              h3 #{user.contacts.followings.length}
              span
                a(href='/account/' + user.id + '/followings') 关注
