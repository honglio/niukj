extends ../layout

block content
  .container-fluid.modul-space-twentyone
    .page-header
      h2= title
    #Grid.row
    - if (articles.length)
      - each article in articles
        .col-xs-12.col-sm-6.col-md-3.mix.category_1.mix_all
          .portlio-list(data-cat='1', style='display: inline-block; opacity: 1;')
              .grid.cs-style-2
                figure
                  - var pic = article.picture ? article.picture : '/img/generic.png'
                  img.portlio-list-img(src=pic, alt='')
                  figcaption
                    .image-buttons.hidden-xs
                      a.btn.btn-primary(data-toggle='modal', href='/articles/'+ article._id)
                        i.fa.fa-camera(data-toggle='tooltip', data-placement='top', title='Look Photo')
                      a.btn.btn-primary(data-toggle='modal', href='/articles/'+ article._id + '/edit')
                        i.fa.fa-video-camera(data-toggle='tooltip', data-placement='top', title='View Video')
              h6 #{article.fileName}

              .meta
                span.text-muted= formatDate(article.createdAt)

              - if (article.user)
                | &nbsp; - &nbsp;
                span Author &nbsp;

                - var name = article.user.profile.name ? article.user.profile.name : article.user.email

                a(href="/account/"+article.user._id)= name

              - if (article.tags)
                | &nbsp; - &nbsp;
                span Tags &nbsp;
                - each tag in article.tags.split(',')
                  i.text-muted.fa.fa-tag &nbsp;
                  a.tag(href="/tags/"+tag)= tag
                  | &nbsp;&nbsp;

      - if (pages > 1)
        ul.pagination
          != createPagination(pages, page)
    - else
      h4.text-muted No articles.&nbsp;
        a(href="/articles/new") create one