<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Mocha Spec Runner</title>
    <link rel="stylesheet" href="lib/mocha/mocha.css">
</head>
<body>
    <div id="mocha"></div>
    <script>
        // is there any better 3rd party zTracker
        window.zTracker = {
            z: 0,
            next: function() {
                return this.z += 1;
            }
        };

        // why we need to detect browser type? try use feature detect.
        var agent = window.navigator.userAgent;
        if (agent.indexOf('WebKit') >= 0) {
            window.browserPrefix = "-webkit-";
        } else if (agent.indexOf('Presto') >= 0) {
            window.browserPrefix = "-o-";
        } else if (agent.indexOf('Gecko') >= 0) {
            window.browserPrefix = "-moz-";
        } else if (agent.indexOf('Trident') >= 0) {
            window.browserPrefix = "-ms-";
        } else {
            window.browserPrefix = "";
        }
    </script>
    <script src="lib/mocha/mocha.js"></script>
    <script>mocha.setup({ ui: 'bdd', ignoreLeaks: true, globals: ['_', '$', 'jquery*', 'Backbone', 'zTracker', 'browserPrefix'] });</script>
    <!-- assertion framework -->
    <script src="lib/chai.js"></script>
    <script>expect = chai.expect;</script>
    <script src="lib/sinon-chai.js"></script>
    <!-- dbtest framework -->
    <script src="lib/sinon.js"></script>
    <!-- Load application -->
    <script data-main="./config" src="../public/js/vendors/require.js"></script>
</body>
</html>
